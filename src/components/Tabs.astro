---
import { cn } from "~/lib/utils";

interface Props {
  options: string[];
  defaultOption?: string;
  name: string;
  class?: string;
}

const { options, name, defaultOption, class: _class } = Astro.props;
---

<div
  class={cn("flex items-center justify-center rounded-md border p-0.5", _class)}
>
  {
    options.map((option) => (
      <div class="relative h-full flex-1">
        <input
          type="radio"
          name={name}
          id={option}
          value={option}
          checked={
            defaultOption?.toLocaleLowerCase() === option.toLocaleLowerCase()
          }
          class="peer sr-only"
        />

        <label
          for={option}
          class={cn(
            "inline-flex size-full items-center justify-center rounded-xs px-3 py-1.5 transition",
            "text-sm font-medium",
            "hover:bg-secondary cursor-pointer",
            "peer-focus:ring-ring peer-focus:bg-secondary peer-focus:ring-2",
            "peer-checked:bg-secondary peer-checked:text-foreground peer-checked:shadow-xs",
          )}
        >
          {option}
        </label>
      </div>
    ))
  }
</div>
